# Claude 개발 가이드라인

## 코드 작성 원칙

### 1. 테스트 코드 작성 (필수)

**모든 새로운 기능과 코드 변경에는 반드시 테스트 코드를 작성해야 합니다.**

#### 테스트 작성 규칙

- **TDD (Test-Driven Development) 원칙 준수**
  - 테스트 작성 → 실패 확인 → 코드 작성 → 테스트 통과 → 리팩토링
  - 테스트를 먼저 작성하고 구현 코드를 작성할 것

- **테스트 커버리지**
  - 단위 테스트 (Unit Test): 모든 public 메서드에 대한 테스트 작성
  - 통합 테스트 (Integration Test): 주요 기능에 대한 통합 테스트 작성
  - 최소 80% 이상의 코드 커버리지 유지

- **테스트 코드 품질**
  - `@DisplayName`을 사용하여 테스트 의도를 명확하게 표현
  - 한글로 테스트 설명 작성하여 가독성 향상
  - Given-When-Then 패턴 사용 권장
  - 하나의 테스트는 하나의 기능만 검증

#### 테스트 종류

1. **컨트롤러 테스트**
   - `@WebMvcTest` 사용
   - MockMvc를 통한 HTTP 요청/응답 검증
   - 모델 속성 및 뷰 이름 검증

2. **서비스 테스트**
   - 비즈니스 로직 검증
   - Mock 객체를 사용한 의존성 격리

3. **통합 테스트**
   - `@SpringBootTest` 사용
   - 전체 애플리케이션 컨텍스트 로드 검증
   - 실제 환경과 유사한 조건에서 테스트

### 2. 코드 품질

#### 상수 사용
- 매직 넘버와 하드코딩된 문자열 사용 금지
- 모든 리터럴 값은 의미 있는 상수로 정의
- 상수는 `private static final`로 선언하고 대문자와 언더스코어 사용

#### 코드 구조
- 단일 책임 원칙 (SRP) 준수
- 중복 코드 제거 (DRY 원칙)
- 메서드는 한 가지 일만 수행하도록 작성
- 적절한 메서드 분리로 가독성 향상

#### 네이밍
- 명확하고 의미 있는 이름 사용
- 클래스명: PascalCase
- 메서드/변수명: camelCase
- 상수명: UPPER_SNAKE_CASE

### 3. 성능 최적화

- 불필요한 객체 생성 방지
- `DateTimeFormatter`, `Pattern` 등 재사용 가능한 객체는 상수로 선언
- 적절한 캐싱 전략 사용

### 4. 문서화

- 복잡한 로직에는 주석 작성
- Public API에는 JavaDoc 작성
- README.md 최신 상태 유지

### 5. 커밋 메시지 규칙

```
<type>: <subject>

<body>
```

**Type 종류:**
- `feat`: 새로운 기능
- `fix`: 버그 수정
- `refactor`: 리팩토링
- `test`: 테스트 코드 추가/수정
- `docs`: 문서 수정
- `style`: 코드 포맷팅
- `chore`: 빌드 업무, 패키지 매니저 설정 등

## 개발 워크플로우

1. **기능 개발 전**
   - 요구사항 명확히 파악
   - 테스트 케이스 먼저 작성 (TDD)

2. **개발 중**
   - 작은 단위로 커밋
   - 테스트가 통과하는지 확인하며 개발

3. **개발 완료 후**
   - 전체 테스트 실행 및 통과 확인
   - 코드 리뷰 수행
   - 리팩토링 진행

## 테스트 실행

```bash
# 전체 테스트 실행
mvn test

# 특정 테스트 클래스 실행
mvn test -Dtest=HomeControllerTest

# 테스트 커버리지 확인
mvn test jacoco:report
```

## 체크리스트

### 코드 작성 시
- [ ] 테스트 코드를 먼저 작성했는가?
- [ ] 모든 테스트가 통과하는가?
- [ ] 매직 넘버/문자열을 상수로 추출했는가?
- [ ] 중복 코드를 제거했는가?
- [ ] 메서드명이 명확한가?
- [ ] 불필요한 객체 생성을 피했는가?

### 커밋 전
- [ ] 테스트가 모두 통과하는가?
- [ ] 코드 리뷰를 받았는가?
- [ ] 커밋 메시지가 명확한가?
- [ ] 불필요한 파일이 포함되지 않았는가?

---

**Remember: 테스트 없는 코드는 레거시 코드입니다. 항상 테스트를 작성하세요!**
